---
import { ArrowRight, Lock, ShieldCheck, Headset } from "lucide-astro";
---

<section class="py-12 md:py-24 bg-gradient-to-br from-primary to-[#2900ff] text-white relative overflow-hidden" id="registro">
    <div class="absolute inset-0 bg-black/20"></div>
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"></div>
    <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-purple-300/10 rounded-full blur-3xl"></div>
    
    <div class="max-w-4xl mx-auto px-6 relative z-10">
        <div class="text-center mb-8 md:mb-12">
            <span class="inline-block px-4 py-1.5 bg-white/20 backdrop-blur-sm rounded-full text-sm font-bold uppercase tracking-widest border border-white/30 mb-6">
                üéØ Cupos limitados 
            </span>
            <h2 class="text-3xl md:text-5xl font-extrabold mb-4 md:mb-6 text-white">√önete al Club de Pioneros</h2>
            <p class="text-white/90 text-base md:text-lg max-w-2xl mx-auto">
                Asegura tu cupo en la fase beta y obt√©n <strong class="text-[#FFD700]">descuentos</strong> mensuales. Beneficios exclusivos de lanzamiento.
            </p>
        </div>

        <div class="bg-white/10 backdrop-blur-xl rounded-[2rem] md:rounded-[2.5rem] p-6 md:p-12 border border-white/20 shadow-2xl">
            <form id="pioneros-form" class="space-y-4 md:space-y-6">
                <div class="grid md:grid-cols-2 gap-4 md:gap-6">
                    <div class="space-y-2">
                        <label class="font-bold text-xs md:text-sm uppercase tracking-wider text-white/80 px-2">Nombre Completo</label>
                        <input name="nombre" class="w-full px-5 py-3 md:px-6 md:py-4 bg-white/20 border-2 border-white/30 rounded-2xl focus:ring-4 focus:ring-primary/50 outline-none transition-all text-white placeholder-white/40" placeholder="Ej. Maria Garcia" type="text" required />
                    </div>
                    <div class="space-y-2">
                        <label class="font-bold text-xs md:text-sm uppercase tracking-wider text-white/80 px-2">Correo Electr√≥nico</label>
                        <input name="email" class="w-full px-5 py-3 md:px-6 md:py-4 bg-white/20 border-2 border-white/30 rounded-2xl focus:ring-4 focus:ring-primary/50 outline-none transition-all text-white placeholder-white/40" placeholder="maria@tuempresa.com" type="email" required />
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-4 md:gap-6">
                    <div class="space-y-2">
                        <label class="font-bold text-xs md:text-sm uppercase tracking-wider text-white px-2">WhatsApp</label>
                        <input name="tel" class="w-full px-5 py-3 md:px-6 md:py-4 bg-white/20 border-2 border-white/30 rounded-2xl focus:ring-4 outline-none transition-all text-white placeholder-white/40" placeholder="+57 3155870958" type="tel" required />
                    </div>
                    <div class="space-y-2">
                        <label class="font-bold text-xs md:text-sm uppercase tracking-wider text-white/80 px-2">Categor√≠a de Producto</label>
                        <select name="categoria" class="w-full px-5 py-3 md:px-6 md:py-4 bg-white/20 border-2 border-white/30 rounded-2xl focus:ring-4 focus:ring-primary/50 outline-none transition-all text-white appearance-none cursor-pointer">
                            <option value="moda" class="bg-[#120B2E]">Moda y Accesorios</option>
                            <option value="hogar" class="bg-[#120B2E]">Hogar y Decoraci√≥n</option>
                            <option value="belleza" class="bg-[#120B2E]">Belleza y Salud</option>
                            <option value="alimentos" class="bg-[#120B2E]">Alimentos y Bebidas</option>
                            <option value="tecnologia" class="bg-[#120B2E]">Tecnolog√≠a</option>
                            <option value="otro" class="bg-[#120B2E]">Otro</option>
                        </select>
                    </div>
                </div>

                <div class="flex items-start md:items-center gap-3 py-2">
                    <input type="checkbox" class="w-5 h-5 mt-1 md:mt-0 rounded border-white/30 bg-white/20 text-primary focus:ring-0 cursor-pointer" id="terms" required />
                    <label for="terms" class="text-xs md:text-sm text-white/80 leading-tight cursor-pointer">Acepto los t√©rminos y condiciones y quiero recibir informaci√≥n sobre eventos y beneficios.</label>
                </div>

                <button id="submit-btn" class="w-full bg-[#FFD700] hover:bg-yellow-400 text-black font-black text-lg md:text-xl py-4 md:py-5 rounded-2xl shadow-xl shadow-black/30 transition-all transform hover:scale-[1.01] active:scale-95 flex items-center justify-center gap-2" type="submit">
                    üöÄ REGISTRARME AHORA
                    <ArrowRight class="w-5 h-5 md:w-6 md:h-6" />
                </button>
                
                <p class="text-center text-[10px] md:text-sm text-white/60 mt-4">
                    ‚ö° Los primeros 10 en registrarse reciben asesor√≠a personalizada GRATIS
                </p>
            </form>
        </div>

        <div class="mt-8 md:mt-12 flex flex-wrap justify-center gap-4 md:gap-8 items-center opacity-70 text-xs md:text-sm">
            <span class="flex items-center gap-2"><Lock class="w-4 h-4" /> Datos seguros</span>
            <span class="flex items-center gap-2"><ShieldCheck class="w-4 h-4" /> Pago protegido</span>
            <span class="flex items-center gap-2"><Headset class="w-4 h-4" /> Soporte incluido</span>
        </div>
    </div>
</section>

<script>
    const form = document.getElementById('pioneros-form') as HTMLFormElement;
    const btn = document.getElementById('submit-btn') as HTMLButtonElement;

    form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        // Cambiar estado del bot√≥n
        btn.disabled = true;
        btn.innerText = "PROCESANDO...";
        btn.style.opacity = "0.7";

        // Aqu√≠ ir√≠a tu l√≥gica para enviar los datos a tu base de datos o Google Sheets
        // Por ahora simulamos el env√≠o y redirigimos
        setTimeout(() => {
            window.location.href = "/gracias";
        }, 1000);
    });
</script>